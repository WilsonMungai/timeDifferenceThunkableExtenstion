<html>
<head>
<script 
    src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js"
    type="text/javascript"></script>
</head>

<script>
  ThunkableWebviewerExtension.receiveMessage(function(message) {
    const twoTimes = JSON.parse(message);
    const parseTime = (timeString) => {
      const [hours, minutes, seconds] = timeString.split(":").map(Number);
      return hours * 3600 + minutes * 60 + (seconds || 0); // Convert to seconds
    };

    const startTimeInSeconds = parseTime(twoTimes.startTime);
    const endTimeInSeconds = parseTime(twoTimes.endTime);
    const timeDifferenceInSeconds = endTimeInSeconds - startTimeInSeconds;

    ThunkableWebviewerExtension.postMessage(timeDifferenceInSeconds);
  });
</script>
</html>
